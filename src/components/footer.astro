---
import LanguageSelector from '@components/languageselector.astro';
import { menuitems } from '@components/navbar/navbar.astro';
import ThemeSelector from '@components/themeselector.astro';
import { localizePath } from 'astro-i18next';
import { t } from 'i18next';
---

<footer class="pb-12 pt-28 dark:bg-stone-950">
  <div class="mx-auto max-w-6xl px-6 md:px-12 lg:px-6 xl:px-0">
    <ul
      role="list"
      class="flex flex-wrap items-center justify-center gap-4 py-4 text-gray-600 dark:text-white sm:gap-8"
    >
      <li role="listitem">
        <a href={localizePath('/')} class="duration-300 hover:text-gray-900 dark:hover:text-gray-100"
          >{t('header.home')}</a
        >
      </li>
      {
        menuitems.map(
          (item) =>
            item &&
            item.path && (
              <li role="listitem">
                <a
                  href={item.target === '_blank' ? item.path : localizePath(item.path)}
                  target={item.target}
                  class="duration-300 hover:text-gray-900 dark:hover:text-gray-100"
                >
                  {t(item.title)}
                </a>
              </li>
            )
        )
      }
    </ul>
    <div class="m-auto mt-4 flex w-max items-center justify-between space-x-4 text-gray-500 dark:text-white">
      <a
        class="duration-300 hover:text-gray-900 dark:hover:text-gray-100"
        href="https://github.com/Dacong-wu"
        title="github"
        target="_blank"
        aria-label="github"
      >
        <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="m-auto h-5 w-5" viewBox="0 0 16 16">
          <path
            fill="currentColor"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59c.4.07.55-.17.55-.38c0-.19-.01-.82-.01-1.49c-2.01.37-2.53-.49-2.69-.94c-.09-.23-.48-.94-.82-1.13c-.28-.15-.68-.52-.01-.53c.63-.01 1.08.58 1.23.82c.72 1.21 1.87.87 2.33.66c.07-.52.28-.87.51-1.07c-1.78-.2-3.64-.89-3.64-3.95c0-.87.31-1.59.82-2.15c-.08-.2-.36-1.02.08-2.12c0 0 .67-.21 2.2.82c.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82c.44 1.1.16 1.92.08 2.12c.51.56.82 1.27.82 2.15c0 3.07-1.87 3.75-3.65 3.95c.29.25.54.73.54 1.48c0 1.07-.01 1.93-.01 2.2c0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"
          >
          </path>
        </svg>
      </a>
      <a
        class="duration-300 hover:text-gray-900 dark:hover:text-gray-100"
        href="mailto:dacong@ll1025.cn"
        title="email"
        aria-label="email"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="m-auto h-5 w-5" viewBox="0 0 20 20">
          <path
            fill="currentColor"
            d="M14.608 12.172c0 .84.239 1.175.864 1.175c1.393 0 2.28-1.775 2.28-4.727c0-4.512-3.288-6.672-7.393-6.672c-4.223 0-8.064 2.832-8.064 8.184c0 5.112 3.36 7.896 8.52 7.896c1.752 0 2.928-.192 4.727-.792l.386 1.607c-1.776.577-3.674.744-5.137.744c-6.768 0-10.393-3.72-10.393-9.456c0-5.784 4.201-9.72 9.985-9.72c6.024 0 9.215 3.6 9.215 8.016c0 3.744-1.175 6.6-4.871 6.6c-1.681 0-2.784-.672-2.928-2.161c-.432 1.656-1.584 2.161-3.145 2.161c-2.088 0-3.84-1.609-3.84-4.848c0-3.264 1.537-5.28 4.297-5.28c1.464 0 2.376.576 2.782 1.488l.697-1.272h2.016v7.057zm-2.951-3.168c0-1.319-.985-1.872-1.801-1.872c-.888 0-1.871.719-1.871 2.832c0 1.68.744 2.616 1.871 2.616c.792 0 1.801-.504 1.801-1.896z"
          ></path>
        </svg>
      </a>
    </div>
    <div class="flex justify-center mt-12 gap-3">
      <LanguageSelector showFlag={false} class="appearance-none py-1 px-2 rounded bg-slate-100 dark:bg-stone-950" />
      <ThemeSelector />
    </div>
    <div class="mt-4 flex flex-col text-center">
      <span class="text-sm tracking-wide text-gray-500 dark:text-white">
        Copyright © Spans 2021 - Present. All rights reserved
      </span>
      <span class="text-sm tracking-wide text-gray-500 dark:text-white">
        <a href="https://beian.miit.gov.cn/" class="hover:underline" target="_blank">苏ICP备2021045936号-2</a>
      </span>
    </div>
  </div>
</footer>
